# Description : St is a simple terminal implementation for X
# URL         : https://st.suckless.org
# Maintainer  : marin, https://github.com/turquoise-hexagon/ports/issues
# Depends on  : xorg-libxext xorg-libxft

name=st
version=0.8.2
release=1
source=(
"https://dl.suckless.org/$name/$name-$version.tar.gz"
patches/fonts.patch
)

build() {
    cd "$name-$version"

    patch -p1 -i "$SRC/fonts.patch"

    [[ -f $PKGMK_ROOT/config.h ]] &&
        cp "$PKGMK_ROOT/config.h" .

    make CC=gcc
    make DESTDIR="$PKG" PREFIX=/usr TERMINFO="$PKG/usr/share/terminfo" install

    rm -rf "$PKG/usr/share/terminfo"
}

# vim: ft=sh
